# Release Notes ‚Äî 1.939.2

## Default Columns

- Removed Brand from the default column set for new users; new accounts now start with: Condition, Shirt Name, Size, Type, Fandom, Price, Preview, Notes

## Profile Name Dialog

- Display name skip preference is now persisted to Supabase user_metadata (display_name_skipped) in addition to localStorage, so the prompt no longer re-appears when logging in from a different browser or device
- Added Enter key support to trigger Save via keydown listener on the profile name input
- Added Esc key support to trigger Skip (with full Supabase persistence) via cancel event interception on the dialog

## Icon System

- Icon cells are now clickable ‚Äî a delegated click listener on sheetBody catches clicks on .icon-cell, reads the data-type attribute, and calls openTypeIconDialog directly, bypassing the queue gate so users can re-pick icons for types that already have a mapping
- Each icon cell stores a data-type attribute with the row's lowercase type value, updated by both renderRows and handleCellEvent
- Icon cells show cursor: pointer when the user has edit permissions (not read-only/viewer)

## Filter Bar

- Added a keyboard shortcut hint next to the Filter label on desktop web, showing "(‚åòF to find)" on Mac or "(Ctrl+F to find)" on other platforms, detected via navigator.userAgent
- Hint is visible to all users including share link viewers
- Mobile web has no find bar, so no hint is rendered there

## Help System

- Added a floating help button (? circle, 36px) fixed to the bottom-right corner of the screen, created via JS with inline styles to avoid CSS conflicts with the signed-out auth state
- Clicking the help button opens a dialog explaining every control in the app, organized into sections: Header Buttons, Table Controls, Tabs, Selection Actions, Cloud Backup, Danger Zone, and Other
- Section headers are styled with uppercase text, letter-spacing, muted color, and a bottom border to visually separate them from the help text
- Dialog content is tailored per platform ‚Äî desktop references "Save + Sync to Cloud" and "Click" while mobile references "Cloud Sync", "Copy Share Link", and "Tap"
- Dialog always opens scrolled to the top
- Help button is hidden when signed out and hidden for share link viewers

## Welcome Message

- New users with default columns and a single empty row now see a styled welcome message: a bold "Welcome to Shirt Tracker!" heading with a lighter line directing them to the ? help button
- The welcome message disappears immediately when the user enters any data into a cell

## UI / UX

- Restyled the auth loading indicator with Work Sans font, 0.8rem, weight 600, uppercase, wide letter-spacing, muted color, and a loading-pulse keyframes animation (opacity 0.4 to 1.0 on 1.8s ease-in-out loop)
- Loading text changed from "Loading..." to "LOADING" (the pulse conveys activity without needing an ellipsis)
- Unified backgrounds across sheet-header, column-toggle-row, tab-bar, and filter-row to the same linear gradient, eliminating the visible color mismatch where the tab bar and filter areas appeared as a separate block from the header
- Removed border-bottom from sheet-header, column-toggle-row, and tab-bar so the entire top control area reads as one cohesive surface, with only the filter-row retaining its bottom border
- Changed the tab bar Add button from "+ Add" to use the ‚ûï plus emoji, matching the existing üóëÔ∏è Delete and ‚úèÔ∏è Edit emoji style

## Bug Fixes

- Fixed share link failing when duplicate rows exist in Supabase: loadPublicShareState replaced .maybeSingle() (which throws PGRST116 on multiple matches) with .order("updated_at", { ascending: false }).limit(1) to always pick the newest row

## Housekeeping

- Removed unused Shirt Tracker Sync.app macOS bundle and deno.lock file, added both patterns to .gitignore
- Created REFACTOR-PROMPT.md with a comprehensive prompt for a future session to split the single-file SPA into separate HTML/CSS/JS source files
- Unified version numbers across all HTML sources, tauri.conf.json, and README.md to 1.939.2 (previously HTML sources used 1.939.002 while tauri.conf.json used 1.939.2)
